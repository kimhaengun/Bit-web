<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
	<style type="text/css">
		table{
			border-collapse: collapse;
			width: 100%;
		}
		table,th,td{
			border: 1px solid gray;
		}
		table tr{}
		table tr>td{}
	</style>
	<script type="text/javascript">
		var xhr, target, btn;
		window.onload=function(){
			target = document.querySelector("#target");
			btn = document.querySelector('button');
			table = document.querySelector('table');
			btn.onclick= function(){				
				xhr = new XMLHttpRequest();
				
				xhr.onreadystatechange=function(ele){
					if(ele.target.status==200&&ele.target.readyState==4){
						var tbody = document.createElement('tbody');
						table.appendChild(tbody);
						tbody='';
						var doc = xhr.responseXML;
						console.log(doc.childNodes[0]);
						var arr = doc.childNodes[0].children;
						for(stu of arr){
							var num = stu.children[0].childNodes[0].nodeValue;
							var name = stu.children[1].childNodes[0].nodeValue;
							var kor = stu.children[2].childNodes[0].nodeValue;
							var eng = stu.children[3].childNodes[0].nodeValue;
							var math = stu.children[4].childNodes[0].nodeValue;
							
							tbody+='<tr>';
							tbody+='<td>'+num+'</td>';
							tbody+='<td>'+name+'</td>';
							tbody+='<td>'+kor+'</td>';
							tbody+='<td>'+eng+'</td>';
							tbody+='<td>'+math+'</td>';
							tbody+='</tr>';
							
							/*
							var tr = document.createElement('tr');
							var td = document.createElement('td');
							td.appendChild(document.createTextNode(num+""));
							tr.appendChild(td);
							
							td = document.createElement('td');
							td.appendChild(document.createTextNode(name));
							tr.appendChild(td);
							
							td = document.createElement('td');
							td.appendChild(document.createTextNode(kor));
							tr.appendChild(td);
							
							td = document.createElement('td');
							td.appendChild(document.createTextNode(eng));
							tr.appendChild(td);
							
							td = document.createElement('td');
							td.appendChild(document.createTextNode(math));
							tr.appendChild(td);
							
							tbody.appendChild(tr);
							*/
							
						}						
						//table.appendChild(tbody);
						document.querySelector('tbody').innerHTML=tbody;
						
						}
				}
				xhr.open('get','ajax01.xml');
				xhr.send();
			}
		};
	</script>
</head>
<body>
	<h1>ajax통신</h1>
	<div id="target">
		<table>
			<thead>
				<tr>
					<th>학번</th>
					<th>이름</th>
					<th>국어</th>
					<th>영어</th>
					<th>수학</th>
				</tr>
			</thead>
		</table>
	</div>
	<!-- <input/> -->
	<p>위는 결과<button>가져오기</button></p>
</body>
</html>